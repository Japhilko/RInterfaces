VW_Flist <- read.table("D:/__Gramlich__/Danullis5/VW_Flist.RData", quote="\"")
View(VW_Flist)
ls()
View(VW_Flist)
View(VW_Flist)
library(rgdal)
library(raster)
install.packages("raster")
pfad.onb<-c("j:/Work/Statistik/Gramlich/Gemeindeverzeichnis/BNA/ONB_Internet_aktuell/")
pfad.ags<-c("j:/Work/Statistik/Gramlich/Gemeindeverzeichnis/BKG/vg250-ew_3112.gk3.shape.kompakt/vg250-ew_kompakt/")
library(raster)
pfad.ags<-c("j:/Work/Statistik/Gramlich/Gemeindeverzeichnis/BKG/vg250-ew_3112.gk3.shape.kompakt/vg250-ew_kompakt/")
setwd(pfad.onb)
onb.rg<-readOGR(".","ONB_BnetzA_DHDN_Gauss3d-3")
onb.coor<-coordinates(onb.rg)
setwd(pfad.ags)
ags.rg<-readOGR(".","VG250_F")
pts<-coordinates(onb.rg)
pts_sp <- SpatialPointsDataFrame(pts)
pts
head(pts)
onb.rg@polygons[[1]]
pts2 <- cbind(pts[,1],pts[,2])
pts_sp <- SpatialPointsDataFrame(pts2,pts)
pts<-coordinates(onb.rg)
tmp <- sp::over(pts,ags.rg )
datapath <- "J:/Work/Statistik/Kolb/Paper/GeoData_SRM/data"
setwd(datapath)
dirnam <- dir()
dirnam2 <- dirnam[agrep("info_",dirnam)]
dirnam3 <- gsub(".RData","",dirnam2)
dirnam3 <- gsub("info_","",dirnam3)
dirnam4 <- strsplit(dirnam3,"_")
ldn <- unlist(lapply(dirnam4,length))
objectN <- vector()
for (i in 1:length(ldn)){
if (ldn[i]<3){
objectN[i] <- dirnam4[[i]][1]
}else{
objectN[i] <- paste(dirnam4[[i]][1],dirnam4[[i]][2],sep="_")
}
}
i
dir()
setwd(datapath)
plzpath <-"D:/Daten/Daten/GeoDaten/"
datapath <- "J:/Work/Statistik/Kolb/Paper/GeoData_SRM/data"
setwd(plzpath)
PLZ <- readOGR("." ,"post_pl")
setwd(datapath)
dirnam <- dir()
dirnam2 <- dirnam[agrep("info_",dirnam)]
dirnam3 <- gsub(".RData","",dirnam2)
dirnam3 <- gsub("info_","",dirnam3)
dirnam4 <- strsplit(dirnam3,"_")
ldn <- unlist(lapply(dirnam4,length))
objectN <- vector()
for (i in 1:length(ldn)){
if (ldn[i]<3){
objectN[i] <- dirnam4[[i]][1]
}else{
objectN[i] <- paste(dirnam4[[i]][1],dirnam4[[i]][2],sep="_")
}
}
dir()
setwd(datapath)
datapath <- "J:/Work/Statistik/Kolb/Paper/"
dir()
setwd(data.path)
setwd(datapath)
dir()
datapath <- "J:/Work/Statistik/Kolb/Paper/Z_RejectedPapers7GeoData_SRM/data"
datapath <- "J:/Work/Statistik/Kolb/Paper/Z_RejectedPapers/GeoData_SRM/data"
setwd(datapath)
setwd(datapath)
dirnam <- dir()
dirnam2 <- dirnam[agrep("info_",dirnam)]
dirnam3 <- gsub(".RData","",dirnam2)
dirnam3 <- gsub("info_","",dirnam3)
dirnam4 <- strsplit(dirnam3,"_")
ldn <- unlist(lapply(dirnam4,length))
objectN <- vector()
for (i in 1:length(ldn)){
if (ldn[i]<3){
objectN[i] <- dirnam4[[i]][1]
}else{
objectN[i] <- paste(dirnam4[[i]][1],dirnam4[[i]][2],sep="_")
}
}
dir()
datapath <- "J:/Work/Statistik/Kolb/Paper/OSM_SmallArea/data"
load("info_bakery_Bayern.RData")
setwd(datapath)
load("info_bakery_Bayern.RData")
pts <- cbind(info$lon,info$lat)
pts_sp <- SpatialPointsDataFrame(pts,info)
(load("info_bakery_Bayern.RData"))
head(info)
?SpatialPointsDataFrame
pts_sp <- SpatialPointsDataFrame(pts2,pts)
pts_sp <- SpatialPointsDataFrame(pts)
pts3 <- data.frame(pts)
pts_sp <- SpatialPointsDataFrame(pts2,pts3)
head(pts3)
nrow(pts3)
nrow(pts2)
head(pts2)
length(onb.rg)
pts_sp <- SpatialPointsDataFrame(pts2,onb.rg@data)
tmp <- sp::over(pts,ags.rg)
tmp <- sp::over(pts_sp,ags.rg)
pts2 <- cbind(pts[,2],pts[,1])
pts3 <- data.frame(pts)
pts_sp <- SpatialPointsDataFrame(pts2,onb.rg@data)
nrow(pts2)
pts2 <- cbind(pts[,1],pts[,2])
pts_sp <- SpatialPointsDataFrame(pts2,onb.rg@data)
pts2 <- cbind(pts[,1],pts[,2])
pts_sp <- SpatialPointsDataFrame(pts2,onb.rg@data)
nrow(pts2)
length(onb.rg)
pts<-coordinates(onb.rg)
nrow(pts)
pts2 <- cbind(pts[,1],pts[,2])
pts_sp <- SpatialPointsDataFrame(pts2,onb.rg@data)
tmp <- sp::over(pts_sp,ags.rg)
projection(pts_sp) <- projection(onb.rg)
tmp <- sp::over(pts_sp,ags.rg)
dim(pts)
head(pts)
head(tmp)
length(onb.rg)
length(ags.rg)
projection(onb.rg)
View(info)
View(pts3)
View(pts2)
View(pts3)
View(pts)
ls()
head(PLZ)
head(PLZ@data)
datapath <- "J:/Work/Statistik/Kolb/Workshops/2017/RSchnittstellen/data"
date()
setwd(datapath)
load("osmsa_PLZ_14.RData")
(load("osmsa_PLZ_14.RData"))
exdat1 <- PLZ@data
exdat1
head(exdat1)
exdat2 <- exdat1[exdat1$nname=="Berlin"]
exdat2 <- exdat1[exdat1$nname=="Berlin",]
exdat2
nrow(exdat2)
table(exdat2$PLZORT99)
head(exdat2)
exdat <- exdat2[,c("PLZ99","area_d","bakery","bar","cafe","clothes")]
gitpath <- "C:/Users/kolbjp/Documents/GitHub/RInterfaces/data"
setwd(gitpath)
save(exdat,file="exdat.RData")
gitpath2 <- "C:/Users/kolbjp/Documents/GitHub/RInterfaces"
setwd(gitpath2)
head(exdat2)
exdat <- exdat2[,c("PLZ99","PLZORT99","area_d","bakery","bar","cafe","clothes")]
setwd(gitpath)
save(exdat,file="exdat.RData")
setwd(gitpath2)
